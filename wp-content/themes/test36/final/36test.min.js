/*! 36test 2015-08-17 */
$(function(){var a,b,c=$(window),d=c.height(),e=c.width(),f=($(".image"),c),g=$(".movement"),h=$("[data-speed]"),i=0,j=0,k=0,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),m=0,n=!1;return c.on("scroll",function(a){c.scrollTop()>=16?$(".logo__triangle-white").addClass("stick"):$(".logo__triangle-white").removeClass("stick"),c.scrollTop()>=56?$(".header").addClass("stick"):$(".header").removeClass("stick"),c.scrollTop()>=88?$(".navigation").addClass("white"):$(".navigation").removeClass("white")}),buildParallax=function(){resizeParallax();var a=0;g.data("top",0),h.each(function(a){$(this).data("height",$(this).innerHeight()),$(this).data("offset-top",$(this).offset().top-$(window).scrollTop()),$(this).data("offset-x",0),$(this).data("offset-y",0),$(this).data("mouse-offset-x",0),$(this).data("mouse-offset-y",0)}),window.scrollTo(0,a),i=m=a,l||(inHeight=g.height(),g.css("-moz-transform","translate3d(0,-"+inHeight+"px, 0)"),g.css("-webkit-transform","translate3d(0,-"+inHeight+"px, 0)"),g.css("-o-transform","translate3d(0,-"+inHeight+"px, 0)"),g.css("transform","translate3d(0,-"+inHeight+"px, 0)"),g.data("top",a),h.each(function(b){var c=$(this).data("speed"),e=($(this).data("movement-speed"),$(this).data("height")),f=$(this).data("offset-top"),g=$(this).data("mouse-offset-x"),h=$(this).data("mouse-offset-y"),i=$(this).data("offset-y"),j=a+d/2-e/2-f;i=j*c/20,Modernizr.csstransforms3d?($(this).css("-moz-transform","translate3d(0px, "+i+"px, 0)"),$(this).css("-webkit-transform","translate3d(0px, "+i+"px, 0)"),$(this).css("-o-transform","translate3d(0px, "+i+"px, 0)"),$(this).css("transform","translate3d(0px, "+i+"px, 0)")):Modernizr.csstransitions&&($(this).css("-moz-transform","translateY("+i+"px)"),$(this).css("-webkit-transform","translateY("+i+"px)"),$(this).css("-o-transform","translateY("+i+"px)"),$(this).css("transform","translateY("+i+"px)")),$(this).data("mouse-offset-x",g),$(this).data("mouse-offset-y",h),$(this).data("offset-y",i)}),b())},resizeParallax=function(){d=$(window).height(),e=$(window).width(),containerEnd=$("#block-9").offset().top+$("#block-9").height(),$(".container").height(containerEnd),840>e&&$(".container").css("height","100%"),$(".main").height(g.height())},updateParallax=function(){var b;if(i+=.05*(m-i),b=i-m,Math.abs(b)<.01&&(i=m),(Modernizr.csstransforms3d||Modernizr.csstransitions)&&!a){var c=g.data("top");c+=.2*(m-c),c_top=-c,g.css("-moz-transform","translate3d(0,"+c_top+"px, 0)"),g.css("-webkit-transform","translate3d(0,"+c_top+"px, 0)"),g.css("-o-transform","translate3d(0,"+c_top+"px, 0)"),g.css("transform","translate3d(0,"+c_top+"px, 0)"),g.data("top",c)}h.each(function(a){var b,c=0,f=$(this).data("speed"),g=$(this).data("movement-speed"),h=$(this).data("height"),l=$(this).data("offset-top"),m=$(this).data("mouse-offset-x"),n=$(this).data("mouse-offset-y"),o=$(this).data("offset-y"),p=$(this).data("side"),q=0,r=0,s=i+d/2-h/2-l;o=-1*s*f/20,h=10*g/d,width=10*g/e,pageX=j-e/2,pageY=k-d/2;var t=width*pageX*-1;s=h*pageY*-1,m+=(t-m)/20,n+=(s-n)/20,p&&(b=-1*(l+o+n-i)/(d/2-$(this).height()/2),0>b&&(b=0),b>1&&(b=1),"right"===p&&(q=(e/2+500)*b),"left"===p&&(q=-((e/2+500)*b))),c=m+q,o=o+n+r,Modernizr.csstransforms3d?($(this).css("-moz-transform","translate3d("+c+"px, "+o+"px, 0)"),$(this).css("-webkit-transform","translate3d("+c+"px, "+o+"px, 0)"),$(this).css("-o-transform","translate3d("+c+"px, "+o+"px, 0)"),$(this).css("transform","translate3d("+c+"px, "+o+"px, 0)")):Modernizr.csstransitions&&($(this).css("-moz-transform","translateY("+o+"px)"),$(this).css("-webkit-transform","translateY("+o+"px)"),$(this).css("-o-transform","translateY("+o+"px)"),$(this).css("transform","translateY("+o+"px)")),$(this).data("mouse-offset-x",m),$(this).data("mouse-offset-y",n),$(this).data("offset-y",o)})},initQueryLoader=function(){$("body").queryLoader2({backgroundColor:"#fff",barColor:"#333",barHeight:6,onComplete:function(){window.scrollTo(0,0),$("#wrap").addClass("visible"),n=!0}})},preparePage=function(){Modernizr.csstransforms3d||$(".movement").css("position","absolute")},b=function(){e>820&&updateParallax(),requestAnimFrame(b)},a=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)}}(),init=function(){$("body").on("mousemove",function(a){j=a.screenX,k=a.screenY}),$(window).on("resize",function(){resizeParallax()}),f.on("scroll",function(){m=f.scrollTop()}),$("body").on("mousewheel",function(a){n||a.preventDefault()}),a=a(),preparePage(),buildParallax(),initQueryLoader(),$(".navigation__menu, .navigation__close").on("click",function(){$("body").toggleClass("locked"),$(".logo__mobile").toggleClass("open"),$(".navigation").toggleClass("open")}),$(".navigation a").hover(function(){$(".navigation a").not(this).toggleClass("light")}),$(".footer__up").on("click",function(){return $("body").animate({scrollTop:0},1e3),!1})},init()});